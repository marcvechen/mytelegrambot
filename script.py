import os
from telethon import TelegramClient, errors

# –£—Å—Ç–∞–Ω–æ–≤–∏ —Å–≤–æ–∏ –¥–∞–Ω–Ω—ã–µ
api_id = '27983745'
api_hash = 'a759bf1bb3f1201663fc904b7fb97967'

# –°–ø–∏—Å–æ–∫ –≥—Ä—É–ø–ø, —Å–æ–æ–±—â–µ–Ω–∏–π –∏ —Ñ–∞–π–ª–æ–≤
groups = [
    {'link': 'https://t.me/+vnczmKn9ih83ZGRi', 'message': '‚ÄºÔ∏è–†–∞–¥—ã –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å –í–∞—Å –≤ –Ω–∞—à–µ–π –ø–æ–¥–¥–µ—Ä–∂–∫–µ‚ÄºÔ∏è
    üîäüîäüîä–°–ø–µ—à–∏–º –í–∞–º —Å–æ–æ–±—â–∏—Ç—å, —á—Ç–æ –Ω–∞—à–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –µ–∂–µ–¥–Ω–µ–≤–Ω–æ —Å 8.00 –ø–æ 00.30 –∏ –≥–æ—Ç–æ–≤–∞ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –≤—Å–µ –≤–∞—à–∏ –∑–∞–ø—Ä–æ—Å—ã. üîäüîäüîä
    –î–ª—è –±—ã—Å—Ç—Ä–æ–π –∏ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ–π —Ä–∞–±–æ—Ç—ã –ø—Ä–æ—Å–∏–º –í–∞—Å –æ–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è —Å —à–∞–±–ª–æ–Ω–∞–º–∏ –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É—Å–∫–æ—Ä—è—Ç –Ω–∞—à–µ —Å –≤–∞–º–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏—á–µ—Å—Ç–≤–æ.
    üëáüëáüëá üëáüëáüëá üëáüëáüëá

    –ü—Ä–æ—à—É –∑–∞–∫—Ä–µ–ø–∏—Ç—å –∫–ª–∏–µ–Ω—Ç–∞ –∑–∞ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–º:
    1Ô∏è‚É£Email/–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –∫–ª–∏–µ–Ω—Ç–∞:
    2Ô∏è‚É£–ü–ª–æ—â–∞–¥–∫–∞, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–π –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –∫–ª–∏–µ–Ω—Ç:
    3Ô∏è‚É£–ù–∏–∫ –º–µ–Ω–µ–¥–∂–µ—Ä–∞ –≤ –°–†–ú:

    –ü—Ä–æ—à—É –¥–æ–±–∞–≤–∏—Ç—å –ø–ª–æ—â–∞–¥–∫—É –≤ –∫–∞—Ä—Ç–æ—á–∫—É –∫–ª–∏–µ–Ω—Ç–∞:
    1Ô∏è‚É£Email/–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –∫–ª–∏–µ–Ω—Ç–∞:
    2Ô∏è‚É£–ü–ª–æ—â–∞–¥–∫–∞, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–π –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –∫–ª–∏–µ–Ω—Ç:
    3Ô∏è‚É£–ù–∏–∫ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –º–µ–Ω–µ–¥–∂–µ—Ä–∞ –≤ –°–†–ú:

    –ü—Ä–æ—à—É –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –∏–Ω—Ñ–æ, –∑–∞ –∫–µ–º –∑–∞–∫—Ä–µ–ø–ª–µ–Ω –∫–ª–∏–µ–Ω—Ç:
    1Ô∏è‚É£Email/–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –∫–ª–∏–µ–Ω—Ç–∞:
    2Ô∏è‚É£–ü–ª–æ—â–∞–¥–∫–∞, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–π –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –∫–ª–∏–µ–Ω—Ç:

    –ù–µ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∞–¥—Ä–µ—Å –∫—Ä–∏–ø—Ç–æ–ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è –≤ –°–†–ú
    1Ô∏è‚É£Email/–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –∫–ª–∏–µ–Ω—Ç–∞:
    2Ô∏è‚É£–ü–ª–æ—â–∞–¥–∫–∞, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–π –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –∫–ª–∏–µ–Ω—Ç:
    3Ô∏è‚É£–ù–æ–º–µ—Ä –∫–æ—à–µ–ª—å–∫–∞ –∫–ª–∏–µ–Ω—Ç–∞:
    4Ô∏è‚É£–ù–æ–º–µ—Ä –∫–æ—à–µ–ª—å–∫–∞ ‚Äì –Ω–∞–ø—Ä–∏–º–µ—Ä: BZ1, REAL-12345 –∏ —Ç–¥

    ‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî-
    üìûSkype/WhaysApp - –Ω–µ—Ç—É –∑–∞–ø–∏—Å–∏ –∑–≤–æ–Ω–∫–∞ –≤ –°–†–ú:
    1Ô∏è‚É£Email/–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –∫–ª–∏–µ–Ω—Ç–∞:
    2Ô∏è‚É£–í–∞—à –ª–æ–≥–∏–Ω –≤ –°–†–ú:
    3Ô∏è‚É£ –û—Ç–∫—É–¥–∞ —Å–æ–≤–µ—Ä—à–∞–ª—Å—è –∑–≤–æ–Ω–æ–∫ - —Å–∫–∞–π–ø/–≤–∞—Ç—Å–∞–ø?


    üìû–ù–µ –∑–≤–æ–Ω–∏—Ç —Å –°RM:
    1Ô∏è‚É£–ù–∏–∫ –º–µ–Ω–µ–¥–∂–µ—Ä–∞ –≤ –°–†–ú:
    2Ô∏è‚É£SIP –Ω–æ–º–µ—Ä:
    3Ô∏è‚É£–ù–æ–º–µ—Ä –ª–∏–Ω–∏–∏ –≤ CRM:
    4Ô∏è‚É£ID –∏ –ø–∞—Ä–æ–ª—å –æ—Ç –¢–∏–º–≤–∏–≤–µ—Ä–∞:

    üìû–ù–µ –º–æ–≥—É –¥–æ–∑–≤–æ–Ω–∏—Ç—å—Å—è –∫–ª–∏–µ–Ω—Ç—É –∏–∑ –°RM:
    1Ô∏è‚É£–ù–∏–∫ –º–µ–Ω–µ–¥–∂–µ—Ä–∞ –≤ –°–†–ú:
    2Ô∏è‚É£–ù–æ–º–µ—Ä –∞–±–æ–Ω–µ–Ω—Ç–∞:
    3Ô∏è‚É£–ù–æ–º–µ—Ä –ª–∏–Ω–∏–∏, —Å –∫–æ—Ç–æ—Ä–æ–π –Ω–∞–±–∏—Ä–∞–ª–∏:

    üìû–ù–µ –º–æ–≥—É –¥–æ–∑–≤–æ–Ω–∏—Ç—å—Å—è —Å —Ç—Ä—É–±–∫–∏:
    1Ô∏è‚É£–ò–º—è —Ç—Ä—É–±–∫–∏:
    2Ô∏è‚É£–Ü–† –∞–¥—Ä–µ—Å –Ω–∞ —Ç—Ä—É–±–∫–µ:
    3Ô∏è‚É£–ù–æ–º–µ—Ä –∞–±–æ–Ω–µ–Ω—Ç–∞:
    4Ô∏è‚É£SIP –Ω–æ–º–µ—Ä:
    5Ô∏è‚É£–ù–æ–º–µ—Ä –ª–∏–Ω–∏–∏ –≤ CRM:

    üìû–Ø –ø–µ—Ä–µ—Å–µ–ª / —Å–ª–µ—Ç–µ–ª–∏ SIP –∞–∫–∫–∞—É–Ω—Ç—ã
    1Ô∏è‚É£–ò–º—è –≤ –°RM:
    2Ô∏è‚É£Teamviewer ID –Ω–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–µ —Å –ª–∏–Ω—Ñ–æ–Ω–æ–º:
    3Ô∏è‚É£–ü–∞—Ä–æ–ª—å –æ—Ç Teamviewer:

    üìû–Ø —Å–º–µ–Ω–∏–ª —Ä–µ–≥–∏–æ–Ω, –Ω—É–∂–µ–Ω –Ω–æ–≤—ã–π SIP:
    1Ô∏è‚É£–ò–º—è –≤ –°RM:
    2Ô∏è‚É£–°—Ç—Ä–∞–Ω–∞ –Ω–æ–≤–æ–≥–æ –Ω–æ–º–µ—Ä–∞:
    3Ô∏è‚É£–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ª–∏ –≤—Ö–æ–¥—è—â–∞—è –ª–∏–Ω–∏—è:
    4Ô∏è‚É£Teamviewer ID –Ω–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–µ —Å –ª–∏–Ω—Ñ–æ–Ω–æ–º:
    5Ô∏è‚É£–ü–∞—Ä–æ–ª—å –æ—Ç Teamviewer:

    üìû–ù–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π –Ω–æ–º–µ—Ä –Ω–∞ —Ç—Ä—É–±–∫—É:
    1Ô∏è‚É£–ò–º—è —Ç—Ä—É–±–∫–∏:
    2Ô∏è‚É£–Ü–† –∞–¥—Ä–µ—Å –Ω–∞ —Ç—Ä—É–±–∫–µ:
    3Ô∏è‚É£–°—Ç—Ä–∞–Ω–∞ –Ω–æ–≤–æ–≥–æ –Ω–æ–º–µ—Ä–∞:
    3Ô∏è‚É£–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ª–∏ –≤—Ö–æ–¥—è—â–∞—è –ª–∏–Ω–∏—è:

    ‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî-
    ‚ÄºÔ∏è–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ:
    üìû–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–º–µ—Ä –≤ –°RM
    üìû–ó–∞–º–µ–Ω–∏—Ç—å –Ω–æ–º–µ—Ä –≤ –°RM
    –≤—ã –º–æ–∂–µ—Ç–µ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ, –∑–∞–≥–ª—è–Ω—É–≤ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π —Ä–∞–∑–¥–µ–ª –ì–∞–π–¥–∞ –ø–æ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–º—É –ø–æ—Ä—Ç–∞–ª—É (–≥–∞–π–¥ –≤ –∑–∞–∫—Ä–µ–ø–ª–µ–Ω–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏—è—Ö –≤ –≤–µ—Ä—Ö—É —ç—Ç–æ–≥–æ —á–∞—Ç–∞).

        –¢–∞–∫–∂–µ, –µ—Å–ª–∏ –≤—ã
        üìû–Ω–æ–≤—ã–π —Å–æ—Ç—Ä—É–¥–Ω–∏–∫, —Ç–æ –º–æ–∂–µ—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å —Å–µ–±–µ –Ω–æ–º–µ—Ä —á–µ—Ä–µ–∑ VOIP-–ø–æ—Ä—Ç–∞–ª.

    –ö–Ω–æ–ø–∫–∞ –ø–µ—Ä–µ—Ö–æ–¥–∞ –Ω–∞ VOIP-–ø–æ—Ä—Ç–∞–ª –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ sCRM –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É –≤ –º–µ–Ω—é –≤–∞—à–µ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞.', 'file': './test.txt'
    },
    {'link': 'https://t.me/+DqEK3yaFi6w5MWRi', 'message': '–î–æ–±—Ä–æ–µ —É—Ç—Ä–æ, –≥—Ä—É–ø–ø–∞ 2!', 'file': './test1.txt'},
    {'link': 'https://t.me/+7TjyaHrMLTowMzMy', 'message': '–î–æ–±—Ä–æ–µ —É—Ç—Ä–æ, –≥—Ä—É–ø–ø–∞ 3!', 'file': './test2.txt'},
]

# –°–æ–∑–¥–∞–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞
client = TelegramClient('my_telegram_session', api_id, api_hash)

async def send_messages_and_files():
    await client.start()
    print("–ö–ª–∏–µ–Ω—Ç –∑–∞–ø—É—â–µ–Ω –∏ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω.")
    
    for group in groups:
        try:
            # –ü–æ–ª—É—á–∞–µ–º –æ–±—ä–µ–∫—Ç –≥—Ä—É–ø–ø—ã
            group_entity = await client.get_entity(group['link'])
            
            # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ
            await client.send_message(group_entity, group['message'])
            print(f"–°–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ {group['link']}")
            
            # –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞
            if group['file'] and os.path.exists(group['file']):
                await client.send_file(group_entity, group['file'])
                print(f"–§–∞–π–ª {group['file']} –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –≤ {group['link']}")
            else:
                print(f"–§–∞–π–ª {group['file']} –Ω–µ –Ω–∞–π–¥–µ–Ω –∏–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω –¥–ª—è {group['link']}")
        
        except errors.RpcError as e:
            print(f"–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –≤ {group['link']}: {e}")
        except Exception as e:
            print(f"–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –≤ {group['link']}: {e}")
    
    print("–í—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∏ —Ñ–∞–π–ª—ã —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã!")

# –ó–∞–ø—É—Å–∫
with client:
    client.loop.run_until_complete(send_messages_and_files())
